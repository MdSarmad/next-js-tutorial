# 4. Routing metadata

- The Metadata API in Next.js is a powerful feature that lets us define for each page.
- Metadata ensures our content looks great when it's shared or indexed by search engines.

- Two ways to handle metadata in layout.tsx or page.tsx files:
  - export a static metadata object
  - export a dynamic generateMetadata function

## Metadata rules

- Both layout.tsx and page.tsx can export metadata. Layout metadata applies to all its pages, while page metadata is specific to that page

- Metadata follows a top-down order, starting from the root level

- When metadata exists in multiple places along a route, they merge together, with page metadata overrriding layout metadata for matching properties.

- We can't use metadata object and generateMetadata function together in the same file.

- We can't use metadata object or generateMetadata function in client components.

  - To fix this we can extract server and client components and export metadata from server component.

## Title metadata

- The title field's primary purpose is to define the document title
- It can be either a string or an object

```tsx
export const metadata = {
  title: {
    default: "Next.js Tutorial", // fallback title when any child page doesn't provide a title
    template: "%s | Next.js Tutorial", // To add prefix or suffix to the child routes title, %s is the title of the child route
    absolute: "", // absolute title will override the default and template of parent route
  },
  description: "Generated by Next.js",
};
```
